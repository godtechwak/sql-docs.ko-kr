---
description: 데이터베이스 복사 마법사 사용
title: 데이터베이스 복사 마법사 사용 | Microsoft 문서
ms.custom: ''
ms.date: 07/26/2016
ms.prod: sql
ms.prod_service: database-engine
ms.reviewer: ''
ms.technology: ''
ms.topic: conceptual
f1_keywords:
- sql13.swb.cdw.packageconfiguration.f1
- sql13.swb.cdw.schedule.f1
- sql13.swb.cdw.transfermethod.f1
- sql13.swb.cdw.databases.f1
- sql13.swb.cdw.destinationconfiguration.f1
- sql13.swb.cdw.destination.f1
- sql13.swb.cdw.locationofsourcedbfiles.f1
- sql13.swb.cdw.source.f1
- sql13.swb.cdw.selectdatabaseobjects.f1
- sql13.swb.cdw.complete.f1
- sql13.swb.cdw.welcome.f1
helpviewer_keywords:
- Copy Database Wizard
- starting Copy Database Wizard
ms.assetid: 7a999fc7-0a26-4a0d-9eeb-db6fc794f3cb
author: stevestein
ms.author: sstein
ms.openlocfilehash: 6fdb28c8ef89b9c8b79b482b0887f9a0bf40cbb3
ms.sourcegitcommit: c5078791a07330a87a92abb19b791e950672e198
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 11/26/2020
ms.locfileid: "88487082"
---
# <a name="use-the-copy-database-wizard"></a>데이터베이스 복사 마법사 사용
 [!INCLUDE [SQL Server](../../includes/applies-to-version/sqlserver.md)]
데이터베이스 복사 마법사는 서버 가동을 중지시키지 않고 데이터베이스 및 특정 서버 개체를 한 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]  인스턴스에서 다른 인스턴스로 이동하거나 복사합니다. 이 마법사를 사용하여 다음을 수행할 수 있습니다. 
  
-   원본 서버 및 대상 서버 선택  
  
-   이동하거나 복사할 데이터베이스 선택  
  
-   데이터베이스의 파일 위치 지정  
  
-   대상 서버에 대한 로그인 복사  
  
-   지원 개체, 작업, 사용자 정의 저장 프로시저 및 오류 메시지를 추가로 복사  
  
-   데이터베이스 이동 또는 복사 일정 예약  
  

##  <a name="limitations-and-restrictions"></a><a name="Restrictions"></a> 제한 사항  
  
-   Express Edition에서는 데이터베이스 복사 마법사를 사용할 수 없습니다.  
  
-   다음 데이터베이스는 데이터베이스 복사 마법사를 사용하여 이동하거나 복사할 수 없습니다.
  
    -   시스템 데이터베이스
  
    -   복제용 데이터베이스
  
    -   액세스 불가, 로드 중, 오프라인, 복구 중으로 표시되거나 응급 모드인 데이터베이스
    
    -   Microsoft Azure storage에 데이터 또는 로그 파일이 저장된 데이터베이스
  
-   [FileTables](../../relational-databases/blob/filetables-sql-server.md)를 사용하는 경우 마법사가 동일한 디렉터리 이름을 사용하기 때문에 동일한 서버에서 데이터베이스 복사 마법사를 사용할 수 없습니다.

-   이전 버전의 SQL Server로는 데이터베이스를 이동하거나 복사할 수 없습니다.
  
-   **이동** 옵션을 선택하면 마법사가 데이터베이스를 이동한 후 자동으로 원본 데이터베이스를 삭제합니다. **복사** 옵션을 선택하면 데이터베이스 복사 마법사에서 원본 데이터베이스를 삭제하지 않습니다.  또한 선택한 서버 개체는 대상으로 이동되지 않고 복사됩니다. 데이터베이스 개체만 실제로 이동됩니다.
  
-   SMO( [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Management Objects) 방법을 사용하여 전체 텍스트 카탈로그를 이동하는 경우 이동 후에 인덱스를 다시 채워야 합니다.  
  
-   **분리 및 연결** 방법은 데이터베이스를 분리하고 데이터베이스 파일(.mdf, .ndf, .ldf)을 이동하거나 복사한 다음 새 위치에서 데이터베이스를 다시 연결합니다. **분리 및 연결** 방법의 경우 데이터 손실이나 불일치가 발생하지 않도록 하려면 활성 세션을 이동 또는 복사 중인 데이터베이스에 연결하면 안 됩니다. SMO( [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Management Objects) 방법에서는 데이터베이스가 결코 오프라인 상태가 되지 않으므로 활성 세션이 허용됩니다.  

-    대상 서버에 존재하지 않는 데이터베이스를 참조하는 SQL Server 에이전트를 전송하면 전체 작업이 실패합니다.  마법사는 데이터베이스를 만들기 전에 SQL Server 에이전트 작업을 만들려고 합니다.  해결 방법:
     1. 대상 서버에서 복사 또는 이동할 데이터베이스와 동일한 이름의 셸 데이터베이스를 만듭니다.  [데이터베이스 만들기](../../relational-databases/databases/create-a-database.md)를 참조하세요.
     
     2. **대상 데이터베이스 구성** 페이지에서 **대상 서버에서 이름이 같은 데이터베이스를 삭제한 다음 데이터베이스 전송을 계속하여 기존 데이터베이스 파일을 덮어씁니다.** 를 선택합니다.

> **중요!!** **분리 및 연결** 방법은 원본 및 대상 데이터베이스 소유권을 **데이터베이스 복사 마법사** 를 실행 중인 로그인으로 설정합니다.  데이터베이스 소유권을 변경하려면 [ALTER AUTHORIZATION(Transact-SQL)](../../t-sql/statements/alter-authorization-transact-sql.md) 을 참조하세요.
  
  
##  <a name="prerequisites"></a><a name="Prerequisites"></a> 필수 조건  
-   대상 서버에서 SQL Server 에이전트가 시작되었는지 확인합니다.  

-   대상 서버에서 원본 서버의 데이터 및 로그 파일 디렉터리에 연결할 수 있는지 확인합니다.

-   **분리 및 연결** 방법을 사용할 경우 SSIS 하위 시스템용 SQL Server 에이전트 프록시가 원본 및 대상 서버의 파일 시스템에 대한 액세스 자격 증명이 있는 대상 서버에 존재해야 합니다. 프록시에 대한 자세한 내용은 [SQL Server 에이전트 프록시 만들기](~/ssms/agent/create-a-sql-server-agent-proxy.md)를 참조하세요.

> **중요!!** **분리 및 연결** 방법을 사용할 경우 Integration Services 프록시 계정을 사용하지 않으면 복사 또는 이동 프로세스가 실패합니다.  특정 상황에서는 원본 데이터베이스가 원본 서버에 다시 연결되지 않고 모든 NTFS 보안 권한이 데이터 및 로그 파일에서 제거됩니다.  이 경우 파일로 이동하여 관련 사용 권한을 다시 적용하고 SQL Server의 인스턴스에 데이터베이스를 다시 연결합니다.
  
##  <a name="recommendations"></a><a name="Recommendations"></a> 권장 사항  
  
-   업그레이드한 데이터베이스가 최적의 성능을 낼 수 있도록 업그레이드한 데이터베이스에 대해 [sp_updatestats(Transact-SQL)](../../relational-databases/system-stored-procedures/sp-updatestats-transact-sql.md) (통계 업데이트)를 실행하세요.  
  
-   데이터베이스를 다른 서버 인스턴스로 이동 또는 복사하는 경우 사용자와 애플리케이션에 일관된 환경을 제공하려면 로그인, 작업 등 데이터베이스의 일부 또는 모든 메타데이터를 다른 서버 인스턴스에서 다시 만들어야 할 수도 있습니다. 자세한 내용은 [다른 서버 인스턴스에서 데이터베이스를 사용할 수 있도록 할 때 메타데이터 관리&#40;SQL Server&#41;](../../relational-databases/databases/manage-metadata-when-making-a-database-available-on-another-server.md)을 참조하세요.  
  

  
###  <a name="permissions"></a><a name="Permissions"></a> 권한  
 원본 서버와 대상 서버 모두에서 **sysadmin** 고정 서버 역할의 멤버여야 합니다.  
  
##  <a name="the-copy-database-wizard-pages"></a><a name="Overview"></a> 데이터베이스 복사 마법사 페이지 
SQL Server Management Studio의 **데이터베이스 복사 마법사** 를 시작합니다. **개체 탐색기** 에서 **데이터베이스** 를 확장합니다.  그런 다음 데이터베이스를 마우스 오른쪽 단추로 클릭한 다음 **태스크** 를 선택하고 **데이터베이스 복사** 를 클릭합니다.  **데이터베이스 복사 마법사 시작** 페이지가 표시되면 **다음** 을 클릭합니다.


### <a name="select-a-source-server"></a>원본 서버 선택
이동 또는 복사하려는 데이터베이스가 있는 서버를 지정하고 로그인 정보를 입력하는 데 사용됩니다.  인증 방법을 선택하고 로그인 정보를 입력한 후 **다음** 을 클릭하여 원본 서버에 연결합니다.  이 연결은 해당 세션 동안 열린 상태로 유지됩니다.

-    **원본 서버**  
이동 또는 복사하려는 데이터베이스가 있는 서버의 이름을 식별하는 데 사용됩니다.  수동으로 입력하거나 줄임표를 클릭하여 원하는 서버로 이동합니다.  서버는 SQL Server 2005 이상이어야 합니다.

-    **Windows 인증 사용**  
사용자가 Microsoft Windows 사용자 계정을 통해 연결하도록 합니다.

-    **SQL Server 인증 사용**  
사용자가 SQL Server 인증 사용자 이름 및 암호를 제공하여 연결하도록 합니다.

     -    **사용자 이름**  
연결할 사용자 이름을 입력하는 데 사용됩니다. 이 옵션은 **SQL Server 인증** 을 사용하여 연결하도록 선택한 경우에만 사용할 수 있습니다.

     -    **암호**  
로그인 암호를 입력하는 데 사용됩니다. 이 옵션은 **SQL Server 인증** 을 사용하여 연결하도록 선택한 경우에만 사용할 수 있습니다.

###  <a name="select-a-destination-server"></a>대상 서버 선택
데이터베이스를 이동 또는 복사할 서버를 지정하는 데 사용됩니다.  원본 서버와 대상 서버를 동일한 서버 인스턴스로 설정하면 데이터베이스 복사본이 생성됩니다.  이 경우 이 마법사에서 나중에 데이터베이스의 이름을 바꿔야 합니다.  원본 데이터베이스 이름은 대상 서버에 있는 이름과 충돌하지 않는 경우에만 복사되거나 이동된 데이터베이스에 사용할 수 있습니다.  이름 충돌이 있을 때는 먼저 대상 서버에서 수동으로 이 문제를 해결해야 원본 데이터베이스 이름을 대상 서버에서 사용할 수 있습니다.
  
-    **대상 서버**  
이동 또는 복사하려는 데이터베이스가 있는 서버의 이름을 식별하는 데 사용됩니다.  수동으로 입력하거나 줄임표를 클릭하여 원하는 서버로 이동합니다.  서버는 SQL Server 2005 이상이어야 합니다.

     >**참고** 클러스터형 서버인 대상을 사용할 수 있습니다. 그러나 데이터베이스 복사 마법사를 사용하면 클러스터형 대상 서버에서 공유 드라이브만 선택할 수 있습니다.

-    **Windows 인증 사용**  
사용자가 Microsoft Windows 사용자 계정을 통해 연결하도록 합니다.

-    **SQL Server 인증 사용**  
사용자가 SQL Server 인증 사용자 이름 및 암호를 제공하여 연결하도록 합니다.

     -    **사용자 이름**  
연결할 사용자 이름을 입력하는 데 사용됩니다. 이 옵션은 **SQL Server 인증** 을 사용하여 연결하도록 선택한 경우에만 사용할 수 있습니다.

     -    **암호**  
로그인 암호를 입력하는 데 사용됩니다. 이 옵션은 **SQL Server 인증** 을 사용하여 연결하도록 선택한 경우에만 사용할 수 있습니다.

###  <a name="select-the-transfer-method"></a>전송 방법 선택
 
-    **분리/연결 방법을 사용합니다.**  
데이터베이스를 원본 서버에서 분리하고 데이터베이스 파일(.mdf, .ndf 및 .ldf)을 대상 서버로 복사하고 데이터베이스를 대상 서버에 연결합니다. 이 방법은 원본 디스크를 읽고 대상 디스크에 쓰는 작업이 주된 작업이므로 속도가 빠릅니다. 데이터베이스에서 개체를 만들거나 데이터베이스 스토리지 구조를 만드는 데는 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 논리를 필요로 하지 않습니다. 그러나 데이터베이스에 할당되었지만 사용되지 않는 공간이 많으면 속도가 저하될 수 있습니다. 예를 들어 100MB를 할당하여 만든 새 데이터베이스의 경우 5MB만 사용 중이고 나머지 공간은 비어 있어도 100MB 전체가 복사됩니다.

     > **참고** 이 방법을 사용하면 전송 중에 사용자가 데이터베이스를 사용할 수 없습니다.

     -    **오류 발생 시 원본 데이터베이스 다시 연결**  
     데이터베이스를 복사하면 원본 데이터베이스 파일이 원본 서버에 항상 다시 연결됩니다. 데이터베이스 이동을 완료할 수 없는 경우 이 상자를 사용하여 원본 파일을 원본 데이터베이스에 다시 연결할 수 있습니다. 
  
-    **SQL 관리 개체 방법을 사용합니다.**  
     이 방법은 원본 데이터베이스에 있는 데이터베이스 개체의 정의를 읽어 대상 데이터베이스에 각 개체를 만든 다음, 원본 테이블에서 대상 테이블로 데이터를 전송하여 인덱스와 메타데이터를 다시 만듭니다.
  
     > [!NOTE]
     >  이 방법을 사용하면 데이터를 전송하는 동안에도 데이터베이스 사용자가 데이터베이스에 액세스할 수 있습니다. 
  
###  <a name="select-database"></a>데이터베이스 선택
원본 서버에서 대상 서버로 이동 또는 복사할 데이터베이스를 선택합니다.  항목 상단의 [제한 사항](#Restrictions) 을 참조하세요.  
  
-    **이동**  
데이터베이스를 대상 서버로 이동합니다.

-    **복사**  
데이터베이스를 대상 서버에 복사합니다.

-    **원본**  
원본 서버에 존재하는 데이터베이스를 표시합니다.

-    **상태**  
원본 데이터베이스의 다양한 정보를 표시합니다.

-    **새로 고침**  
데이터베이스 목록을 새로 고칩니다.
  
### <a name="configure-destination-database"></a>대상 데이터베이스 구성
적합한 경우 데이터베이스 이름을 변경하고 데이터베이스 파일의 위치와 이름을 지정합니다.  이 페이지는 이동하거나 복사하는 각 데이터베이스에 대해 한 번씩 표시됩니다.

-    **원본 데이터베이스**  
원본 데이터베이스의 이름입니다.  이 입력란의 내용은 편집할 수 없습니다.

-    **대상 데이터베이스**  
생성할 대상 데이터베이스의 이름입니다. 원하는 대로 수정합니다.

-    **대상 데이터베이스 파일:**  
     
     -    **Filename**  
생성할 대상 데이터베이스 파일의 이름입니다. 원하는 대로 수정합니다.

     -    **크기(MB)**  
대상 데이터베이스 파일의 크기(메가바이트)입니다.

     -    **대상 폴더**  
대상 데이터베이스 파일을 호스트할 대상 서버의 폴더입니다. 원하는 대로 수정합니다.

     -    **상태**  
상태

-    **대상 데이터베이스가 이미 있는 경우:**  
     대상 데이터베이스가 이미 있는 경우 수행할 작업을 결정합니다.

     -    **이름이 같은 데이터베이스나 파일이 대상에 있으면 전송을 중지합니다.**

     -    **대상 서버에서 이름이 같은 데이터베이스를 삭제한 다음 데이터베이스 전송을 계속하여 기존 데이터베이스 파일을 덮어씁니다.**

###  <a name="select-server-objects"></a>서버 개체 선택 
이 페이지는 원본 서버와 대상 서버가 다를 때만 사용할 수 있습니다.  
  
-    **사용 가능한 관련 개체**  
대상 서버에 전송할 수 있는 개체를 나열합니다.  개체를 포함하려면 **사용 가능한 관련 개체** 상자에서 개체 이름을 클릭한 다음 **>>** 단추를 클릭하여 **선택한 관련 개체** 상자로 개체를 이동합니다. 

-    **선택한 관련 개체**  
대상 서버에 전송할 개체를 나열합니다.  개체를 제외하려면 **선택한 관련 개체** 상자에서 개체 이름을 클릭한 다음 **<\<** 단추를 클릭하여 **사용 가능한 관련 개체** 상자로 개체를 이동합니다.  기본적으로 선택한 각 유형의 모든 개체가 전송됩니다. 특정 유형의 개별 개체를 선택하려면 **선택한 관련 개체** 상자에서 해당 개체 유형 옆의 줄임표 단추를 클릭합니다.  그러면 개별 개체를 선택할 수 있는 대화 상자가 열립니다.

-    **서버 개체 목록** 

      -    **로그인(기본적으로 선택됨)** 
  
     -    **SQL Server 에이전트 작업**  
  
     -    **사용자 정의 오류 메시지**  
  
     -    **엔드포인트**  
  
     -    **전체 텍스트 카탈로그** 
  
     -    **SSIS 패키지**  
     
     -    **master 데이터베이스의 저장 프로시저** 
          >**참고** 확장 저장 프로시저 및 이와 관련된 DLL은 자동으로 복사할 수 없습니다.  
    
  
###   <a name="location-of-source-database-files"></a>원본 데이터베이스 파일 위치
이 페이지는 원본 서버와 대상 서버가 다를 때만 사용할 수 있습니다.  원본 서버의 데이터베이스 파일이 포함된 파일 시스템 공유를 지정합니다.
  
-    **Database**  
     이동 중인 각 데이터베이스의 이름을 표시합니다.  
  
-    **폴더 위치**  
원본 서버에 있는 데이터베이스 파일의 폴더 위치입니다.
예: `C:\Program Files\Microsoft SQL Server\MSSQL110.MSSQLSERVER\MSSQL\DATA`

  
-    **원본 서버의 파일 공유**  
원본 서버에 있는 데이터베이스 파일이 포함된 파일 공유입니다.  공유를 수동으로 입력하거나 줄임표를 클릭하여 원하는 공유로 이동합니다.
예: `\\server_name\C$\Program Files\Microsoft SQL Server\MSSQL110.MSSQLSERVER\MSSQL\Data`

### <a name="configure-the-package"></a>패키지 구성
데이터베이스 복사 마법사는 SSIS 패키지를 만들어 데이터베이스를 전송합니다.

-    **패키지 위치**  
SSIS 패키지를 쓸 위치를 표시합니다.

-    **패키지 이름**  
SSIS 패키지의 기본 이름이 생성됩니다. 원하는 대로 수정합니다.

-    **로깅 옵션**  
로깅 정보를 Windows 이벤트 로그에 저장할지 또는 텍스트 파일에 저장할지 여부를 선택합니다.

-    **오류 로그 파일 경로**  
이 옵션은 텍스트 파일 로깅 옵션을 선택한 경우에만 사용할 수 있습니다.  로그 파일의 위치에 대한 경로를 제공합니다. 

### <a name="schedule-the-package"></a>패키지 예약
이동 또는 복사 작업을 시작할 시기를 지정합니다.  시스템 관리자가 아닌 경우 SSIS(Integration Services) 패키지 실행 하위 시스템에 대한 액세스 권한이 있는 SQL Server 에이전트 프록시 계정을 지정해야 합니다.

> **중요!!** Integration Services 프록시 계정에서는 **분리 및 연결** 방법으로 사용되어야 합니다.  

-    **Run immediately**  
     SSIS 패키지가 마법사 완료 후 실행됩니다.
  
-    **일정**  
     SSIS 패키지가 일정에 따라 실행됩니다. 
  
     -    **일정 변경**   
그러면 **새 작업 일정** 대화 상자가 열립니다.  원하는 대로 구성합니다.  작업이 완료되면 **확인** 을 클릭합니다.


-    **Integration Services 프록시 계정** 드롭다운 목록에서 사용 가능한 프록시 계정을 선택합니다.  전송을 예약하려면 **SSIS 패키지 실행 하위 시스템** 에 대한 사용 권한으로 구성되어 사용자가 사용할 수 있는 프록시 계정이 하나 이상 있어야 합니다.

        SSIS 패키지 실행에 사용할 프록시 계정을 만들려면 **개체 탐색기** 에서 **SQL Server 에이전트** 와 **프록시** 를 차례로 확장하고 **SSIS 패키지 실행** 을 마우스 오른쪽 단추로 클릭한 다음 **새 프록시** 를 클릭합니다.

### <a name="complete-the-wizard"></a>마법사 완료
선택한 옵션에 대한 요약 정보를 표시합니다.  옵션을 변경하려면 **뒤로** 를 클릭합니다.  **마침** 을 클릭하여 SSIS 패키지를 만듭니다. 전송하는 동안 **작업을 수행하는 중** 페이지에서 **데이터베이스 복사 마법사** 실행과 관련한 상태 정보를 모니터링합니다.

-    **동작**  
 수행 중인 동작을 나열합니다.

-    **상태**  
 전반적으로 성공한 동작인지 아니면 실패한 동작인지 여부를 나타냅니다.

-    **Message**  
각 단계에서 반환된 메시지를 제공합니다.

##  <a name="examples"></a><a name="Examples"></a> 예
### <a name="common-steps"></a>**공통 단계** 
**이동** 또는 **복사**, **분리 및 연결** 또는 **SMO** 등 선택 여부에 관계없이 아래 나열된 5단계는 동일합니다.  간단히 말해 이 단계들은 여기에 한 번 나열되며 모든 예제는 **6단계** 에서 시작됩니다.

1.  **개체 탐색기** 에서 SQL Server 데이터베이스 엔진의 인스턴스에 연결한 다음 해당 인스턴스를 확장합니다.

2.  **데이터베이스** 를 확장하고 데이터베이스를 마우스 오른쪽 단추로 클릭한 다음 **태스크** 를 선택하고 **데이터베이스 복사...** 를 클릭합니다.

3.  **데이터베이스 복사 마법사 시작** 페이지가 표시되면 **다음** 을 클릭합니다.

4.  **원본 서버 선택** 페이지: 이동 또는 복사하려는 데이터베이스가 있는 서버를 지정합니다.  인증 방법을 선택합니다.  **SQL Server 인증 사용** 을 선택한 경우 로그인 자격 증명을 입력해야 합니다.  **다음** 을 클릭하여 원본 서버에 연결합니다.  이 연결은 해당 세션 동안 열린 상태로 유지됩니다.

5.  **대상 서버 선택** 페이지: 데이터베이스를 이동 또는 복사할 서버를 지정할 수 있습니다.  인증 방법을 선택합니다.  **SQL Server 인증 사용** 을 선택한 경우 로그인 자격 증명을 입력해야 합니다.  **다음** 을 클릭하여 원본 서버에 연결합니다.  이 연결은 해당 세션 동안 열린 상태로 유지됩니다.

     > **참고** 모든 데이터베이스에서 데이터베이스 복사 마법사를 시작할 수 있습니다.  원본 또는 대상 서버에서 데이터베이스 복사 마법사를 사용할 수 있습니다.
  
### <a name="a--move-database-using-detach-and-attach-method-to-an-instance-on-a-different-physical-server--a-login-and-sql-server-agent-job-will-be-moved-as-well"></a>**A.  분리 및 연결 방법을 사용하여 데이터베이스를 다른 실제 서버 인스턴스로 이동합니다.  로그인 및 SQL Server 에이전트 작업도 이동됩니다.**  
다음 예제는 `Sales` 데이터베이스, `contoso\Jennie` 인 Windows 로그인 및 `Jennie's Report` 인 SQL Server 에이전트 작업을 `Server1` 의 SQL Server 2008 인스턴스에서 `Server2`의 SQL Server 2016 인스턴스로 이동합니다.  `Jennie's Report` 는 `Sales` 데이터베이스를 사용합니다.  `Sales` 는 대상 서버 `Server2`에 존재하지 않습니다.  `Server1` 은 데이터베이스 이동 후 다른 팀에 다시 할당됩니다.
  
6.  위의 [제한 사항](#Restrictions)에 설명된 것처럼 대상 서버에 없는 데이터베이스를 참조하는 SQL Server 에이전트 작업을 전송할 때 대상 서버에서 셸 데이터베이스가 생성되어야 합니다.  대상 서버에서 `Sales` 라는 셸 데이터베이스를 만듭니다. 

7.  **마법사** 의 **전송 방법 선택** 페이지: 기본값을 검토 및 유지 관리합니다.  **다음** 을 클릭합니다.
  
8.  **데이터베이스 선택** 페이지: 원하는 데이터베이스 **에 대해** 이동 `Sales`을 선택합니다.  **다음** 을 클릭합니다.
  
9.  **대상 데이터베이스 구성** 페이지: **마법사** 에서 `Sales` 가 이미 대상 서버에 있다는 것을 확인했습니다. 위의 **6단계** 에서 만들어져서 `_new` 대상 데이터베이스 **이름에** 가 추가되었습니다.  `_new` 대상 데이터베이스 **입력란에서** 를 삭제합니다.  원하는 경우 **파일 이름** 및 **대상 폴더** 를 변경합니다.  **대상 서버에서 이름이 같은 데이터베이스를 삭제한 다음 데이터베이스 전송을 계속하여 기존 데이터베이스 파일을 덮어씁니다.** 를 선택합니다.  **다음** 을 클릭합니다.
  
10. **서버 개체 선택** 페이지: **선택한 관련 개체:** 패널에서 **개체 이름 로그인** 에 대한 줄임표 단추를 클릭합니다.  **복사 옵션** 아래에서 **선택한 로그인만 복사합니다.** 를 선택합니다.  **모든 서버 로그인 표시** 확인란을 선택합니다.  **에 대한** 로그인 `contoso\Jennie`확인란을 선택합니다.  **확인** 을 클릭합니다.  **사용 가능한 관련 개체:** 패널에서 **SQL Server 에이전트 작업** 을 선택하고 **>** 단추를 클릭합니다.  **선택한 관련 개체** 패널에서 **SQL Server 에이전트 작업** 단추에 대한 줄임표 단추를 클릭합니다.  **복사 옵션** 아래에서 **선택한 작업만 복사합니다.** 를 선택합니다.  `Jennie's Report`확인란을 선택합니다.  **확인** 을 클릭합니다.  **다음** 을 클릭합니다.  
  
11. **원본 데이터베이스 파일 위치** 페이지: **원본 서버의 파일 공유** 에 대한 줄임표 단추를 클릭하고 지정된 폴더 위치로 이동합니다.  예를 들어 폴더 위치가 `D:\MSSQL13.MSSQLSERVER\MSSQL\DATA` 인 경우 `\\Server1\D$\MSSQL13.MSSQLSERVER\MSSQL\DATA` 원본 서버의 파일 공유 **에 대해** 를 사용합니다.  **다음** 을 클릭합니다.
  
12. **패키지 구성** 페이지: **패키지 이름:** 입력란에 `SalesFromServer1toServer2_Move`를 입력합니다.  **전송 로그를 저장하시겠습니까?** 확인란을 선택합니다.  **로깅 옵션** 드롭다운 목록에서 **텍스트 파일** 을 선택합니다.  **오류 로그 파일 경로** 를 원하는 대로 수정합니다.  **다음** 을 클릭합니다.  
  
     > **참고****오류 로그 파일 경로** 는 대상 서버의 경로입니다.
  
13. **패키지 예약** 페이지: **Integration Services 프록시 계정** 드롭다운 목록에서 관련 프록시를 선택합니다.  **다음** 을 클릭합니다.

14. **마법사 완료** 페이지: 선택한 옵션의 요약 내용을 검토합니다.  옵션을 변경하려면 **뒤로** 를 클릭합니다.  **마침** 을 클릭하여 작업을 실행합니다.  전송하는 동안 **작업을 수행하는 중** 페이지에서 **마법사** 실행과 관련한 상태 정보를 모니터링합니다.

15. **작업 수행 중** 페이지: 작업이 성공하면 **닫기** 를 클릭합니다.  작업이 실패할 경우 오류 로그를 검토하고 **뒤로** 를 클릭하여 추가로 검토합니다.  그렇지 않은 경우 **닫기** 를 클릭합니다.
  
16. **사후 이동 단계** 새 호스트 `Server2`에서 다음 T-SQL 문을 실행하는 것이 좋습니다.
  
     ~~~ tsql 
     ALTER AUTHORIZATION ON DATABASE::Sales TO sa;

     ALTER DATABASE Sales 
     SET COMPATIBILITY_LEVEL = 130;

     USE Sales
     GO

     EXEC sp_updatestats;
     ~~~
 
17. **사후 이동 단계 정리**  
`Server1` 이 다른 팀으로 이동되고 **이동** 작업이 반복되지 않으므로 다음 단계를 실행하는 것이 좋습니다.
     -    `SalesFromServer1toServer2_Move` 에서 SSIS 패키지 `Server2`삭제
     -    `SalesFromServer1toServer2_Move` 에서 SQL Server 에이전트 프록시 작업 `Server2`삭제
     -    `Jennie's Report` 에서 SQL Server 에이전트 프록시 작업 `Server1`삭제
     -    `contoso\Jennie` 에서 로그인 `Server1`삭제


### <a name="b-----copy-database-using-detach-and-attach-method-to-the-same-instance-and-set-recurring-schedule"></a>**B.     분리 및 연결 방법을 사용하여 데이터베이스를 동일한 인스턴스에 복사하고 되풀이 일정을 설정합니다.**  
이 예제에서는 `Sales` 데이터베이스가 복사되고 동일한 인스턴스에 `SalesCopy` 로 만들어집니다.  그 후부터 `SalesCopy`가 매주 다시 생성됩니다.

6.  **전송 방법 선택** 페이지: 기본값을 검토 및 유지 관리합니다.  **다음** 을 클릭합니다.

7.  **데이터베이스 선택** 페이지: **데이터베이스에 대해** 복사 `Sales` 를 선택합니다.  **다음** 을 클릭합니다.

8.  **대상 데이터베이스 구성** 페이지: **대상 데이터베이스** 이름을 `SalesCopy`로 변경합니다.  원하는 경우 **파일 이름** 및 **대상 폴더** 를 변경합니다.  **대상 서버에서 이름이 같은 데이터베이스를 삭제한 다음 데이터베이스 전송을 계속하여 기존 데이터베이스 파일을 덮어씁니다.** 를 선택합니다.  **다음** 을 클릭합니다.

9.  **패키지 구성** 페이지: **패키지 이름:** 입력란에 `SalesCopy Weekly Refresh`를 입력합니다.  **전송 로그를 저장하시겠습니까?** 확인란을 선택합니다.  **다음** 을 클릭합니다.

10. **패키지 예약** 페이지: **일정:** 라디오 단추를 클릭한 다음 **일정 변경** 단추를 클릭합니다. 
 
    1. **새 작업 일정** 페이지: **이름** 입력란에 `Weekly on Sunday`를 입력합니다. 
          
    2. **확인** 을 클릭합니다.

11. **Integration Services 프록시 계정** 드롭다운 목록에서 관련 프록시를 선택합니다.  **다음** 을 클릭합니다.

12. **마법사 완료** 페이지: 선택한 옵션의 요약 내용을 검토합니다.  옵션을 변경하려면 **뒤로** 를 클릭합니다.  **마침** 을 클릭하여 작업을 실행합니다.  패키지를 만드는 동안 **작업 수행 중** 페이지에서 **마법사** 실행과 관련한 상태 정보를 모니터링합니다.

13. **작업 수행 중** 페이지: 작업이 성공하면 **닫기** 를 클릭합니다.  작업이 실패할 경우 오류 로그를 검토하고 **뒤로** 를 클릭하여 추가로 검토합니다.  그렇지 않은 경우 **닫기** 를 클릭합니다.

14. 새로 만든 SQL Server 에이전트 작업 `SalesCopy weekly refresh`를 수동으로 시작합니다.  작업 기록을 검토하고 이제 인스턴스에 `SalesCopy` 가 있는지 확인합니다.

  
##  <a name="follow-up-after-upgrading-a-database"></a><a name="FollowUp"></a> 후속 작업: 데이터베이스를 업그레이드한 후  
 데이터베이스 복사 마법사를 사용하여 이전 버전의 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 에서 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]버전으로 데이터베이스를 업그레이드하면 데이터베이스를 바로 사용할 수 있으며 데이터베이스가 자동으로 업그레이드됩니다. 데이터베이스에 전체 텍스트 인덱스가 있는 경우 업그레이드 프로세스는 **전체 텍스트 업그레이드 옵션** 서버 속성의 설정에 따라 인덱스를 가져오거나, 다시 설정하거나, 다시 작성합니다. 업그레이드 옵션이 **가져오기** 또는 **다시 작성** 으로 설정되어 있는 경우 업그레이드하는 동안 전체 텍스트 인덱스를 사용할 수 없습니다. 인덱싱되는 데이터 양에 따라 가져오기 작업은 몇 시간씩 걸릴 수 있으며 다시 작성 작업은 10배 정도 더 걸릴 수 있습니다. 업그레이드 옵션이 **가져오기** 로 설정되어 있으면 전체 텍스트 카탈로그를 사용할 수 없는 경우 관련된 전체 텍스트 인덱스가 다시 작성됩니다. **전체 텍스트 업그레이드 옵션** 속성 설정을 보거나 변경하는 방법은 [서버 인스턴스의 전체 텍스트 검색 관리 및 모니터링](../../relational-databases/search/manage-and-monitor-full-text-search-for-a-server-instance.md)을 참조하세요.  
  
 사용자 데이터베이스의 호환성 수준이 업그레이드 이전에 100 이상이었다면 업그레이드 후에도 동일하게 유지됩니다. 업그레이드한 데이터베이스의 호환성 수준이 이전에 90이었다면 업그레이드 후에는 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]에서 지원되는 가장 낮은 호환성 수준인 100으로 설정됩니다. 자세한 내용은 [ALTER DATABASE 호환성 수준&#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-transact-sql-compatibility-level.md)을 참조하세요.  
 
 ## <a name="post-copy-or-move-considerations"></a><a name="Post"></a> 사후 복사 하거나 이동 고려 사항
 **복사** 또는 **이동** 후 다음 단계를 수행할지 여부를 고려합니다.
-    분리 및 연결 방법을 사용할 경우 데이터베이스 소유권 변경
-    **이동** 후 원본 서버에서 서버 개체 삭제
-    대상 서버에서 마법사가 만든 SSIS 패키지 삭제
-    대상 서버에서 마법사가 만든 SQL Server 에이전트 작업 삭제

  
## <a name="more-information"></a>자세한 정보! 
 [분리 및 연결을 사용하여 데이터베이스 업그레이드&#40;Transact-SQL&#41;](../../relational-databases/databases/upgrade-a-database-using-detach-and-attach-transact-sql.md)   
 [SQL Server 에이전트 프록시 만들기](../../ssms/agent/create-a-sql-server-agent-proxy.md)  
  
  

